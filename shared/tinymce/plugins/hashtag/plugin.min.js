tinymce.PluginManager.add('hashtag', function(editor, url) {
    editor.addButton('hashtag', {
        text: '#Hashtag',
        icon: false,
		tooltip: '#Hashtag',
        onclick: function() {
            var x = tinymce.activeEditor.selection.getContent({format: 'text'});
            if(x) {
                editor.insertContent('#' + x);
            } else {
                editor.windowManager.open({
                    title: 'Insert Hashag',
                    body: [{type: 'textbox',value: x,name:'keyword',label:'Keyword:'}],
                    onsubmit: function(e) {
                        x = e.data.keyword;
                        editor.insertContent('#' + x);
                    }
                });
            }
        }
    });
});